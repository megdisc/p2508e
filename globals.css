/* =================================================================== */
/* 1. プリミティブ (Primitives / L1)
/* デザインシステムの最小単位となる固定値 (トークン)
/* =================================================================== */

:root {
    /* -------------------------------------- */
    /* 1.1. カラーパレット (Colors)
    /* -------------------------------------- */
    
    /* 有彩色 (Chromatic Colors) */
    --palette-015: #001155;
    --palette-066: #006666;
    --palette-B80: #BB8800;
    --palette-D22: #DD2222;
    --palette-CEE: #CCEEEE;
    --palette-CEF: #CCEEFF;
    --palette-FDD: #FFDDDD;
    --palette-DA0: #DDAA00;
    --palette-FFC: #FFFFCC;

    /* 無彩色 (Achromatic Colors) */
    --palette-333: #333333;
    --palette-666: #666666;
    --palette-CCC: #CCCCCC;
    --palette-EEE: #EEEEEE;
    --palette-FFF: #FFFFFF;
    
    /* 透過色 (Translucent Colors) */
    --palette-translucent-0002: rgba(0, 0, 0, 0.2);
    --palette-translucent-0008: rgba(0, 0, 0, 0.8);
    --palette-translucent-2552: rgba(255, 255, 255, 0.2);
    --palette-translucent-2558: rgba(255, 255, 255, 0.8);

    /* -------------------------------------- */
    /* 1.2. タイポグラフィ (Typography) (★游ゴシック)
    /* -------------------------------------- */
    
    /* フォントファミリー (★游ゴシック) */
    --font-family-base: "Yu Gothic Medium", "游ゴシック Medium", YuGothic, "游ゴシック体", "ヒラギノ角ゴ Pro W3", "メイリオ", Meiryo, Osaka, "ＭＳ Ｐゴシック", "MS PGothic", sans-serif;
    --font-family-heading: var(--font-family-base);
    --font-family-code: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;

    /* フォントサイズスケール (★1.25倍率) */
    --font-size-2xs: 0.64rem;     /* 10.24px (12.8 / 1.25) */
    --font-size-xs: 0.8rem;     /* 12.8px (16 / 1.25) */
    --font-size-sm: 1rem;       /* 16px (基準) */
    --font-size-md: 1.25rem;    /* 20px (16 * 1.25) */
    --font-size-lg: 1.5625rem;  /* 25px (20 * 1.25) */
    --font-size-xl: 1.9531rem;  /* 31.25px (25 * 1.25) */
    --font-size-2xl: 2.4414rem; /* 39.06px (31.25 * 1.25) */
    --font-size-3xl: 3.0518rem; /* 48.82px (39.06 * 1.25) */
    --font-size-4xl: 3.8147rem; /* 61.03px (48.82 * 1.25) */

    /* フォントウェイト (★標準 500) */
    --font-weight-light: 300;
    --font-weight-regular: 500; /* 標準 500 */
    --font-weight-medium: 600;  /* Medium 600 */
    --font-weight-bold: 700;    /* Bold 700 */

    /* 行の高さ */
    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.75;

    /* -------------------------------------- */
    /* 1.3. スペーシング (Spacing)
    /* -------------------------------------- */
    --spacing-1: 0.25rem;
    --spacing-2: 0.5rem;
    --spacing-3: 0.75rem;
    --spacing-4: 1rem;
    --spacing-5: 1.25rem;
    --spacing-6: 1.5rem;
    --spacing-8: 2rem;
    --spacing-10: 2.5rem;
    --spacing-12: 3rem;
    --spacing-16: 4rem;

    /* -------------------------------------- */
    /* 1.4. レイアウト (Layout)
    /* -------------------------------------- */
    --breakpoint-sm: 640px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 1024px;
    --breakpoint-xl: 1280px;
    --container-max-width: var(--breakpoint-xl);

    /* -------------------------------------- */
    /* 1.5. ボーダーと角丸 (Borders & Radius)
    /* -------------------------------------- */
    --border-width-sm: 1px;
    --border-width-md: 2px;
    --border-radius-sm: 0.25rem;
    --border-radius-md: 0.5rem;
    --border-radius-lg: 1rem;
    --border-radius-full: 9999px;

    /* -------------------------------------- */
    /* 1.6. 影 (Shadows)
    /* -------------------------------------- */
    --box-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --box-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --box-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --box-shadow-inset: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);

    /* -------------------------------------- */
    /* 1.7. Zインデックス (Z-Index)
    /* -------------------------------------- */
    --z-index-dropdown: 1000;
    --z-index-sticky: 1020;
    --z-index-modal-backdrop: 1040;
    --z-index-modal: 1050;
    --z-index-popover: 1060;
    --z-index-toast: 1070;

    /* -------------------------------------- */
    /* 1.8. トランジション (Transitions)
    /* -------------------------------------- */
    --transition-duration-fast: 150ms;
    --transition-duration-normal: 300ms;
    --transition-timing-ease: ease-in-out;
}

/* =================================================================== */
/* 2. セマンティック (Semantics / L2)
/* プリミティブ(L1)を、文脈・意味・目的で抽象化する
/* =================================================================== */

:root {
    /* -------------------------------------- */
    /* 2.1. 色 (Colors) (★罫線色 変更)
    /* -------------------------------------- */
    
    /* テーマカラー (Theme) */
    --color-theme-main: var(--palette-015);
    --color-theme-sub: var(--palette-CCC);
    --color-theme-accent: var(--palette-DA0);
    /* (★) --color-theme-accent-text: var(--color-base-tertiary); (★) 削除 */

    /* ベースカラー (Base) (★役割を明確化) */
    --color-base-primary: var(--palette-FFF);   /* 白 (メイン背景) */
    --color-base-secondary: var(--palette-EEE); /* ごく薄いグレー (補助背景 / ホバー色) */
    --color-base-tertiary: var(--palette-333);  /* 濃いグレー (メインテキスト) */
    --color-base-quaternary: var(--palette-666);/* 中間グレー (サブテキスト) */
    --color-base-quinary: var(--palette-CCC);   /* 薄いグレー (基本罫線) */
    
    /* セマンティック (状態) */
    --color-semantic-primary-main: var(--palette-015);
    --color-semantic-primary-sub: var(--palette-CEF);
    --color-semantic-success-main: var(--palette-066);
    --color-semantic-success-sub: var(--palette-CEE);
    --color-semantic-warning-main: var(--palette-B80);
    --color-semantic-warning-sub: var(--palette-FFC);
    --color-semantic-error-main: var(--palette-D22);
    --color-semantic-error-sub: var(--palette-FDD);
    --color-semantic-neutral-main: var(--palette-666);
    --color-semantic-neutral-sub: var(--palette-EEE);
    --color-semantic-cancelled-main: var(--palette-333);
    --color-semantic-cancelled-sub: var(--palette-CCC);

    /* -------------------------------------- */
    /* 2.2. タイポグラフィ (Typography) (★変更)
    /* -------------------------------------- */
    --font-body: var(--font-weight-regular) var(--font-size-sm) / var(--line-height-normal) var(--font-family-base);
    --font-body-sm: var(--font-weight-regular) var(--font-size-xs) / var(--line-height-normal) var(--font-family-base);
    --font-body-2sm: var(--font-weight-regular) var(--font-size-2xs) / var(--line-height-normal) var(--font-family-base);
    --font-heading-h1: var(--font-weight-bold) var(--font-size-3xl) / var(--line-height-tight) var(--font-family-heading);
    --font-heading-h2: var(--font-weight-bold) var(--font-size-2xl) / var(--line-height-tight) var(--font-family-heading);
    --font-heading-h3: var(--font-weight-bold) var(--font-size-xl) / var(--line-height-tight) var(--font-family-heading);
    --font-heading-h4: var(--font-weight-bold) var(--font-size-lg) / var(--line-height-tight) var(--font-family-heading);

    /* -------------------------------------- */
    /* 2.3. スペーシング (Spacing)
    /* -------------------------------------- */
    --spacing-inset-xs: var(--spacing-2);
    --spacing-inset-sm: var(--spacing-3);
    --spacing-inset-md: var(--spacing-4);
    --spacing-inset-lg: var(--spacing-6);
    --spacing-stack-xs: var(--spacing-2);
    --spacing-stack-sm: var(--spacing-4);
    --spacing-stack-md: var(--spacing-6);
    --spacing-stack-lg: var(--spacing-8);
    
    /* -------------------------------------- */
    /* 2.4. レイアウト (Layout)
    /* -------------------------------------- */
    --layout-header-height: var(--spacing-12);
    --layout-sidebar-width: 240px;
    
    /* -------------------------------------- */
    /* 2.5. ボーダー (Borders) (★変更)
    /* -------------------------------------- */
    --border-default: var(--border-width-sm) solid var(--color-base-quinary); /* 基本罫線 (CCC) */
    --border-subtle: var(--border-width-sm) solid var(--color-base-secondary); /* 補助罫線 (EEE) */
    --border-emphasis: var(--border-width-sm) solid var(--color-base-quaternary);
}

/* =================================================================== */
/* 3. コンポーネント (Components / L3)
/* セマンティック(L2)を、具体的なコンポーネントの部位に適用する
/* =================================================================== */

:root {
    /* -------------------------------------- */
    /* 3.1. ページ・グローバル
    /* -------------------------------------- */
    --color-page-background: var(--color-base-secondary);
    --color-page-text: var(--color-base-tertiary);
    --color-page-heading: var(--color-base-quaternary); /* (★) ページ見出し色 (666) */
    --font-page-default: var(--font-body);

    /* -------------------------------------- */
    /* 3.2. カード (Card)
    /* -------------------------------------- */
    --color-card-background: var(--color-base-primary);
    --color-card-border: var(--border-default);
    --shadow-card: var(--box-shadow-md);
    --radius-card: var(--border-radius-md);
    --spacing-card-padding: var(--spacing-inset-md);

    /* -------------------------------------- */
    /* 3.3. ボタン (Button)
    /* -------------------------------------- */
    --radius-button: var(--border-radius-sm);
    --spacing-button-padding-y: var(--spacing-2);
    --spacing-button-padding-x: var(--spacing-4);
    
    --color-button-primary-background: var(--color-theme-main);
    --color-button-primary-text: var(--color-base-primary);
    --color-button-primary-border: var(--color-theme-main);
    
    --color-button-secondary-background: var(--color-semantic-neutral-sub);
    --color-button-secondary-text: var(--color-semantic-neutral-main);
    --color-button-secondary-border: var(--color-semantic-neutral-sub);
    
    --color-button-error-background: var(--color-semantic-error-main);
    --color-button-error-text: var(--color-base-primary);
    --color-button-error-border: var(--color-semantic-error-main);

    /* -------------------------------------- */
    /* 3.4. フォーム入力 (Form Input)
    /* -------------------------------------- */
    --color-input-background: var(--color-base-primary);
    --color-input-text: var(--color-base-tertiary);
    --color-input-placeholder: var(--color-base-quaternary);
    --color-input-border: var(--color-base-quinary);
    --color-input-border-focus: var(--color-theme-main);
    --color-input-border-error: var(--color-semantic-error-main);
    --color-input-text-error: var(--color-semantic-error-main);
    --radius-input: var(--border-radius-sm);
    --spacing-input-padding-y: var(--spacing-2);
    --spacing-input-padding-x: var(--spacing-3);
    
    /* -------------------------------------- */
    /* 3.5. バッジ (Badge)
    /* -------------------------------------- */
    --radius-badge: var(--border-radius-full);
    --spacing-badge-padding-y: var(--spacing-1);
    --spacing-badge-padding-x: var(--spacing-3);
    --color-badge-success-background: var(--color-semantic-success-sub);
    --color-badge-success-text: var(--color-semantic-success-main);
    --color-badge-warning-background: var(--color-semantic-warning-sub);
    --color-badge-warning-text: var(--color-semantic-warning-main);
    --color-badge-error-background: var(--color-semantic-error-sub);
    --color-badge-error-text: var(--color-semantic-error-main);

    /* -------------------------------------- */
    /* 3.6. テーブル (Table) (★変更)
    /* -------------------------------------- */
    --color-table-border: var(--color-base-secondary); /* (★補助罫線 EEE) */
    --color-table-container-border: var(--color-base-quinary); /* (★) テーブル外枠用の罫線 (CCC) */
    --color-table-header-background: var(--color-base-secondary); /* ごく薄いグレー(EEE) */
    --color-table-row-background-hover: var(--color-base-secondary); /* ごく薄いグレー(EEE) */
    --spacing-table-cell-padding-y: var(--spacing-3);
    --spacing-table-cell-padding-x: var(--spacing-4);

    /* -------------------------------------- */
    /* 3.7. モーダル (Modal)
    /* -------------------------------------- */
    --color-modal-backdrop-background: var(--palette-translucent-0008);
    --color-modal-content-background: var(--color-base-primary);
    --shadow-modal: var(--box-shadow-lg);
    --radius-modal: var(--border-radius-lg);
    --spacing-modal-padding: var(--spacing-inset-lg);

    /* -------------------------------------- */
    /* 3.8. アラート (Alert)
    /* -------------------------------------- */
    --radius-alert: var(--border-radius-md);
    --spacing-alert-padding: var(--spacing-inset-md);
    --color-alert-success-background: var(--color-semantic-success-sub);
    --color-alert-success-text: var(--color-semantic-success-main);
    --color-alert-success-border: var(--color-semantic-success-main);
    --color-alert-error-background: var(--color-semantic-error-sub);
    --color-alert-error-text: var(--color-semantic-error-main);
    --color-alert-error-border: var(--color-semantic-error-main);

    /* -------------------------------------- */
    /* 3.9. タブ (Tabs)
    /* -------------------------------------- */
    --color-tab-border: var(--color-base-quinary);
    --color-tab-text: var(--color-base-quaternary);
    --color-tab-text-active: var(--color-theme-main);
    --color-tab-border-active: var(--color-theme-main);
    --spacing-tab-padding-y: var(--spacing-2);
    --spacing-tab-padding-x: var(--spacing-4);

    /* -------------------------------------- */
    /* 3.10. スピナー (Spinner)
    /* -------------------------------------- */
    --color-spinner-track: var(--color-base-secondary);
    --color-spinner-thumb: var(--color-theme-main);

    /* -------------------------------------- */
    /* 3.11. データリスト (Data List) (★変更)
    /* -------------------------------------- */
    --color-data-list-label-text: var(--color-base-quaternary); /* #666 */
    --color-data-list-value-text: var(--color-base-tertiary); /* #333 */
    --color-data-list-border: var(--border-subtle); /* 補助罫線(EEE) */
    --spacing-data-list-padding-y: var(--spacing-3); /* 12px */
}


/* =================================================================== */
/* 4. 基本スタイルの適用 (Base Styles)
/* L3変数を使い、グローバルなスタイルやリセットを行う
/* =================================================================== */

/* -------------------------------------- */
/* 4.1. グローバルリセット
/* -------------------------------------- */
*,
*::before,
*::after {
    box-sizing: border-box;
}

html,
body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
}

/* -------------------------------------- */
/* 4.2. 基本スタイルの適用 (★変更)
/* -------------------------------------- */
body {
    background-color: var(--color-page-background);
    color: var(--color-page-text);
    font: var(--font-page-default);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'palt';
    overflow: hidden;
    font-kerning: normal;
    text-rendering: optimizeLegibility;
}

/* -------------------------------------- */
/* 4.3. タイポグラフィの適用 (★変更)
/* -------------------------------------- */
h1, h2, h3, h4, h5, h6 {
    margin: var(--spacing-stack-md) 0 var(--spacing-stack-sm) 0;
    color: var(--color-base-tertiary);
    line-height: var(--line-height-tight);
    font-weight: var(--font-weight-bold);
}

/* ★フォントスケール変更に伴い、H1-H4の参照先を調整 */
h1 { font-size: var(--font-size-2xl); } /* H1 (39px) */
h2 { font-size: var(--font-size-xl); } /* H2 (31px) */
h3 { font-size: var(--font-size-lg); } /* H3 (25px) */
h4 { font-size: var(--font-size-md); } /* H4 (20px) */

p {
    margin: 0 0 var(--spacing-stack-sm) 0;
    line-height: var(--line-height-relaxed);
    text-align: justify;
}

a {
    color: var(--color-semantic-primary-main);
    text-decoration: none;
    transition: opacity var(--transition-duration-fast) var(--transition-timing-ease);
}

/* (★アンダーラインを削除) */
a:hover {
    opacity: 0.7;
    /* text-decoration: underline; */
}

/* -------------------------------------- */
/* 4.4. フォーム要素の基本スタイル
/* -------------------------------------- */
button,
input,
select,
textarea {
    font-family: inherit;
    font-size: inherit;
    color: var(--color-input-text);
}